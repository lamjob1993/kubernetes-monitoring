# Три базовых понятия в Kubernetes: Pods, Deployments и Services

## Представьте, что Kubernetes — это огромная фабрика, которая управляет множеством ваших маленьких рабочих (ваших микросервисов-адаптеров).

### 1.  **Pod (Под)**

   * **Это:** Самая маленькая и базовая единица, которую Kubernetes может создать и которой может управлять. Под — это как "квартира" или "рабочая комната" на нашей фабрике.
   * **Что внутри:** Внутри одного Пода может жить один или несколько контейнеров (например, ваш JAR-файл адаптера, упакованный в контейнер). Контейнеры в одном Поде всегда располагаются вместе, делят одни и те же сетевые ресурсы (у них один IP-адрес внутри кластера) и могут легко общаться друг с другом (например, через `localhost`).
   * **Зачем нужен:** Вы никогда не работаете с отдельным контейнером напрямую в Kubernetes. Вы всегда работаете с Подом. Это минимальный блок, который Kubernetes "ставит" на "рабочую машину" (ноду) в кластере. Если один контейнер упал в Поде, весь Под обычно считается нездоровым.
   * **Аналогия:** Это отдельный рабочий, который может выполнять одну задачу, или группа рабочих (контейнеров), которые очень тесно сотрудничают над одной задачей в одной комнате.

### 2.  **Deployment (Деплоймент)**

   * **Это:** Объект, который управляет *состоянием* ваших Подов. Это как "бригадир" или "менеджер" для группы одинаковых Подов.
   * **Что делает:** Вы говорите Деплойменту: "Мне нужно, чтобы всегда работало 5 копий моего адаптера-калькулятора, и они должны быть версии X". Деплоймент следит за этим. Если какой-то Под "умер" (сломался), Деплоймент автоматически создает новый, чтобы их снова стало 5. Если вы хотите обновить версию адаптера, вы говорите Деплойменту, и он постепенно заменяет старые Поды на новые, следя за тем, чтобы сервис не прерывался (это называется Rolling Update).
   * **Зачем нужен:** Обеспечивает масштабирование (запускает нужное количество копий) и самовосстановление (перезапускает сломавшиеся Поды). Это основной способ управления жизненным циклом ваших приложений в Kubernetes.
   * **Аналогия:** Бригадир, который следит за тем, чтобы всегда работало нужное количество рабочих (Подов) по его инструкции, и если кто-то заболел или уволился, нанимает нового.

### 3.  **Service (Сервис)**

   * **Это:** Абстракция, которая предоставляет *стабильный способ доступа* к группе Подов (обычно тех, которыми управляет Деплоймент). Это как "единый номер телефона" или "адрес офиса" для целого отдела рабочих (Подов).
   * **Что делает:** Поды постоянно создаются, удаляются, перезапускаются, их IP-адреса меняются. Если бы другие сервисы или пользователи должны были знать адреса каждого Пода, это был бы хаос. Сервис дает стабильный IP-адрес и DNS-имя. Когда кто-то обращается к Сервису, Сервис автоматически направляет запрос на один из *здоровых* Подов, которые к нему относятся (выполняет балансировку нагрузки).
   * **Зачем нужен:** Обеспечивает надежный способ общения между разными частями вашего приложения (между разными адаптерами), а также доступ к вашему приложению извне кластера, не беспокоясь о том, где конкретно сейчас находится нужный Под.
   * **Аналогия:** Единый номер телефона "отдела продаж". Вы звоните по этому номеру, а АТС (Сервис) переводит вызов на любого свободного менеджера (Под) в этом отделе. Вы не знаете и не заботитесь о том, какой у конкретного менеджера внутренний номер или где он сидит.

### **Как они работают вместе:**

Обычно вы создаете **Deployment**, чтобы он запустил и поддерживал нужное количество **Pods** с вашим приложением. Затем вы создаете **Service**, который "смотрит" на эти Поды (обычно по меткам-лейблам) и предоставляет стабильный сетевой доступ к ним для других частей системы или внешнего мира.

Вот эта тройка (Pod, Deployment, Service) — это основа для запуска, управления и доступа к приложениям в Kubernetes.
